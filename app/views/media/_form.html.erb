<%# Conditionally load an AJAX version of the form when on `posts#show`. %>
<% if params[:controller] === 'projects' %>
    <%# Assign the form an ID of `comments-form` so that you can select the form when using javascript in `app/views/comments/create.js.erb`. %>
    <%# Don't add `local: true` to this form. Otherwise, AJAX will not work. %>
    <%= form_with model:[@project, @medium], id: "media-form" do |form| %>
        <%= render 'media/form-fields', form: form %>
    <% end  %>
<%# Conditionally load a non-AJAX version of the form when on `comments#edit`. %>
<% else  %>
    <%= form_with model:[@project, @medium], local: true do |form| %>
        <%= render "shared/validation-messages", object: form.object %>
        <%= render 'media/form-fields', form: form %>
    <% end  %>
<% end  %>